(function(t){function e(e){for(var a,n,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)n=o[u],r[n]&&m.push(r[n][0]),r[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},r={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("27fb"),r=s.n(a);r.a},1549:function(t,e,s){"use strict";var a=s("29ff"),r=s.n(a);r.a},"17ea":function(t,e,s){"use strict";var a=s("eb33"),r=s.n(a);r.a},"27fb":function(t,e,s){},"29ff":function(t,e,s){},"2e9f":function(t,e,s){"use strict";var a=s("44f1"),r=s.n(a);r.a},3473:function(t,e,s){},"44f1":function(t,e,s){},"46cb":function(t,e,s){t.exports=s.p+"img/mountain2.c6e7fb50.png"},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid",attrs:{id:"app"}},[s("div",{staticClass:"row header-style"},[s("div",{staticClass:"col-sm-1 d-flex justify-content-start"},[s("div",{staticClass:"btn-group"},[t._m(0),s("div",{staticClass:"dropdown-menu",staticStyle:{"padding-bottom":"0"}},[s("router-link",{staticClass:"router-link-style",attrs:{to:"/login"}},[s("b",[t._v("Login")]),s("br")]),s("router-link",{staticClass:"router-link-style",attrs:{to:"/"}},[s("b",[t._v("Home")]),s("br")]),s("router-link",{staticClass:"router-link-style",attrs:{to:"/task-manager"}},[s("b",[t._v("Task Manager")]),s("br")]),s("router-link",{staticClass:"router-link-style",attrs:{to:"/profile"}},[s("b",[t._v("My Profile")]),s("br")]),s("router-link",{staticClass:"router-link-style",attrs:{to:"/team"}},[s("b",[t._v("My Teams")])]),s("div",{staticClass:"dropdown-divider",staticStyle:{margin:"0"}}),s("a",{staticClass:"dropdown-item log-out",staticStyle:{"background-color":"#346575",color:"white",cursor:"pointer","font-family":"'Rock Salt', cursive"},on:{click:t.logout}},[t._v("Log\n              Out")])],1)]),t._m(1)])]),s("router-view")],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-info dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-bars fa-1x"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-title col-sm-4 d-flex align-items-center"},[s("h2",{staticStyle:{"font-family":"'Rock Salt', cursive",color:"#346575"}},[t._v("Summit")])])}],n={methods:{logout(){this.$store.dispatch("logout")}}},o=n,c=(s("034f"),s("2877")),l=Object(c["a"])(o,r,i,!1,null,null,null),d=l.exports,u=s("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row home"},[a("img",{staticClass:"background-image",attrs:{alt:"Summit Mountain",src:s("46cb")}}),a("div",{staticClass:"col-12 d-flex justify-content-between"},[a("div",[a("ProgressBar")],1),a("div",{staticClass:"card",staticStyle:{width:"auto"}},[a("div",{staticClass:"card-header",staticStyle:{"background-color":"#346575"}},[t._v(t._s(t.day)+"\n        ")]),t._l(t.instances,function(e){return 0==e.completed?a("ul",{staticClass:"list-group list-group-flush"},[a("label",{staticClass:"checkbox-inline task-font",class:{isChecked:e.completed}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.completed,expression:"task.completed"}],staticClass:"task-font",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.completed)?t._i(e.completed,null)>-1:e.completed},on:{click:function(s){return t.toggleTaskStatus(e,s)},change:function(s){var a=e.completed,r=s.target,i=!!r.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);r.checked?o<0&&t.$set(e,"completed",a.concat([n])):o>-1&&t.$set(e,"completed",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"completed",i)}}}),t._v(t._s(e.taskData.title)+" --\n            "+t._s(e.taskData.points)+" points")])]):t._e()})],2)])])])},p=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"border",class:t.day},[s("h3",{staticStyle:{"padding-top":"10px","padding-bottom":"0px"}},[t._v(t._s(t.day))]),s("hr",{staticStyle:{padding:"0px"}}),t._l(t.instances,function(e){return s("div",{staticClass:"d-flex justify-content-start task",class:e.taskData.tags[0]},[s("label",{staticClass:"checkbox",class:{isChecked:e.completed}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.completed,expression:"task.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.completed)?t._i(e.completed,null)>-1:e.completed},on:{click:function(s){return t.toggleTaskStatus(e,s)},change:function(s){var a=e.completed,r=s.target,i=!!r.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);r.checked?o<0&&t.$set(e,"completed",a.concat([n])):o>-1&&t.$set(e,"completed",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"completed",i)}}}),t._v("\n      "+t._s(e.taskData.title)+"\n      "),(e.taskData.completed="true")?s("button",{staticClass:"btn fas fa-trash-alt fa-xs pl-0",on:{click:function(s){return t.deleteUserTaskInstance(e)}}}):t._e()]),s("br")])})],2)},y=[],v={name:"",props:["day"],data(){return{}},computed:{dayTasks(){let t=this.$store.state.userTasks||[],e=t.filter(t=>{return t.instances.some(t=>this.day==t.day)});return e||[]},instances(){let t=[];return this.dayTasks.forEach(e=>{t=[...t,...e.instances.map(t=>{return t.userTaskId=e._id,t.taskData=e.taskId,t})]}),t.filter(t=>t.day==this.day)},tags(){return this.$store.state.tags}},methods:{deleteUserTaskInstance(t){let e=this.dayTasks.filter(e=>e._id==t.userTaskId)[0].instances,s={_id:t.userTaskId,userId:{_id:this.$store.state.user._id},instances:e.filter(t=>t.day!==this.day)};s.instances[0]?this.$store.dispatch("editUserTaskById",s):this.$store.dispatch("deleteUserTask",s)},toggleTaskStatus(t,e){t.completed=!t.completed;let s=this.dayTasks.find(e=>t.userTaskId==e._id);this.$store.dispatch("toggleTaskStatus",s)}},components:{}},g=v,f=(s("2e9f"),Object(c["a"])(g,h,y,!1,null,null,null)),k=f.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"weekDays"},[s("div",{staticClass:"row calendar-view"},t._l(t.days,function(t){return s("DayTasks",{attrs:{day:t}})}),1)])},_=[],T={name:"weekDays",props:[],data(){return{sunStart:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},mounted(){},computed:{user(){return this.$store.state.user}},methods:{},components:{DayTasks:k}},w=T,C=(s("b82c"),Object(c["a"])(w,b,_,!1,null,null,null)),U=C.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-bar"},[s("div",{staticClass:"progress vertical",attrs:{id:"pbar"}},[s("div",{staticClass:"progress-bar",style:{height:t.userProgress+"%"},attrs:{role:"progressbar"}}),s("span",{staticClass:"climber",attrs:{"data-toggle":"tooltip","data-placement":"left",title:t.userProgress+"%"}})])])},S=[],A={name:"ProgressBar",props:[],mounted(){$('[data-toggle="tooltip"]').tooltip({trigger:"manual"}).tooltip("show")},beforeDestroy(){$('[role="tooltip"]').tooltip("dispose")},data(){return{}},computed:{userProgress(){let t=Math.floor(this.$store.state.user.points/this.$store.state.summitThreshold*100);return $('[data-toggle="tooltip"]').attr("data-original-title",t+"%").tooltip("show"),t>=100&&(t=100),t}}},P=A,I=(s("9524"),Object(c["a"])(P,x,S,!1,null,null,null)),E=I.exports,M={name:"home",data(){return{day:(new Date).toLocaleString("en-us",{weekday:"long"})}},computed:{dayTasks(){let t=this.$store.state.userTasks||[],e=t.filter(t=>{return t.instances.some(t=>this.day==t.day)});return e||[]},instances(){let t=[];return this.dayTasks.forEach(e=>{t=[...t,...e.instances.map(t=>{return t.userTaskId=e._id,t.taskData=e.taskId,t})]}),t.filter(t=>t.day==this.day)}},components:{DayTasks:k,TaskCalendar:U,ProgressBar:E},methods:{logout(){this.$store.dispatch("logout")},toggleTaskStatus(t,e){t.completed=!t.completed;let s=this.dayTasks.find(e=>t.userTaskId==e._id);this.$store.dispatch("toggleTaskStatus",s)}},mounted(){console.log("Home has been Mounted!"),this.$store.dispatch("getUserTasksByUserId",this.$store.state.user._id)},created(){console.log("Home has been Created!")}},j=M,B=(s("cccb"),Object(c["a"])(j,m,p,!1,null,null,null)),O=B.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("h1",[t._v("Login Page")]),t.loginForm?s("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}}),s("br"),s("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v("Login")])]):s("form",{on:{submit:function(e){return e.preventDefault(),t.registerUser(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"Enter your name"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"Enter your email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),s("br"),s("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v("Register")])]),s("div",{staticClass:"action",on:{click:function(e){t.loginForm=!t.loginForm}}},[s("p",[t._v("Just want to log in and check it out? Use email: jessie@fake.com | password: password")]),t.loginForm?s("p",[t._v("Click here to Register")]):s("p",[t._v("Go back to Login")])])])},R=[],N={name:"login",props:[],data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",name:"",mostRecentSunday:0,summits:[0,0]}}},computed:{mostRecentSunday(){return this.$store.state.mostRecentSunday}},methods:{loginUser(){this.$store.dispatch("login",this.creds)},registerUser(){this.newUser.mostRecentSunday=this.mostRecentSunday,this.$store.dispatch("register",this.newUser)}},components:{}},F=N,L=Object(c["a"])(F,D,R,!1,null,null,null),W=L.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("tasks")],1)},G=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v("Task Manager")])])])}],J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-info",attrs:{"data-toggle":"modal","data-target":"#taskDetails"}},[t._v("Select\n        Task")]),s("button",{staticClass:"btn btn-info dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        Select Goal\n      ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.tags,function(e){return s("a",{staticClass:"dropdown-item",staticStyle:{color:"#346575",cursor:"pointer"},on:{click:function(s){t.filter=e}}},[s("b",[t._v(t._s(e))])])}),0)]),s("div",{staticClass:"row border"},t._l(t.tasksByTag,function(e){return s("div",{staticClass:"col-sm-6 border"},[s("b",[t._v(t._s(e.title)+" - "+t._s(e.description)+" "+t._s(e.points)+" points")])])}),0)]),s("div",{staticClass:"modal fade",attrs:{id:"taskDetails",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalScrollableTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-scrollable",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("form",{staticClass:"modal-body"},t._l(t.tasksByTag,function(e){return s("taskSelector",{key:e._id,attrs:{taskData:e,reset:t.reset}})}),1),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-info",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.saveUserTasks}},[t._v("Save to\n            Week")])])])])]),s("div",{staticStyle:{display:"none"}},[t._v(t._s(t.tasks))])])},q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalScrollableTitle"}},[t._v("Select Task Day")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"taskSelector"},[s("li",[s("h4",[t._v(t._s(t.taskData.title))]),s("h5",[t._v(t._s(t.taskData.description))]),s("p",[t._v(t._s(t.taskData.points)+" points")]),s("label",{staticClass:"checkbox-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.days,expression:"days"}],attrs:{type:"checkbox",name:"Sunday",value:"Sunday"},domProps:{checked:Array.isArray(t.days)?t._i(t.days,"Sunday")>-1:t.days},on:{change:function(e){var s=t.days,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Sunday",n=t._i(s,i);a.checked?n<0&&(t.days=s.concat([i])):n>-1&&(t.days=s.slice(0,n).concat(s.slice(n+1)))}else t.days=r}}}),t._v("Sun")]),s("label",{staticClass:"checkbox-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.days,expression:"days"}],attrs:{type:"checkbox",name:"Monday",value:"Monday"},domProps:{checked:Array.isArray(t.days)?t._i(t.days,"Monday")>-1:t.days},on:{change:function(e){var s=t.days,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Monday",n=t._i(s,i);a.checked?n<0&&(t.days=s.concat([i])):n>-1&&(t.days=s.slice(0,n).concat(s.slice(n+1)))}else t.days=r}}}),t._v("Mon")]),s("label",{staticClass:"checkbox-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.days,expression:"days"}],attrs:{type:"checkbox",name:"Tuesday",value:"Tuesday"},domProps:{checked:Array.isArray(t.days)?t._i(t.days,"Tuesday")>-1:t.days},on:{change:function(e){var s=t.days,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Tuesday",n=t._i(s,i);a.checked?n<0&&(t.days=s.concat([i])):n>-1&&(t.days=s.slice(0,n).concat(s.slice(n+1)))}else t.days=r}}}),t._v("Tues")]),s("label",{staticClass:"checkbox-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.days,expression:"days"}],attrs:{type:"checkbox",name:"Wednesday",value:"Wednesday"},domProps:{checked:Array.isArray(t.days)?t._i(t.days,"Wednesday")>-1:t.days},on:{change:function(e){var s=t.days,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Wednesday",n=t._i(s,i);a.checked?n<0&&(t.days=s.concat([i])):n>-1&&(t.days=s.slice(0,n).concat(s.slice(n+1)))}else t.days=r}}}),t._v("Wed")]),s("label",{staticClass:"checkbox-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.days,expression:"days"}],attrs:{type:"checkbox",name:"Thursday",value:"Thursday"},domProps:{checked:Array.isArray(t.days)?t._i(t.days,"Thursday")>-1:t.days},on:{change:function(e){var s=t.days,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Thursday",n=t._i(s,i);a.checked?n<0&&(t.days=s.concat([i])):n>-1&&(t.days=s.slice(0,n).concat(s.slice(n+1)))}else t.days=r}}}),t._v("Thur")]),s("label",{staticClass:"checkbox-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.days,expression:"days"}],attrs:{type:"checkbox",name:"Friday",value:"Friday"},domProps:{checked:Array.isArray(t.days)?t._i(t.days,"Friday")>-1:t.days},on:{change:function(e){var s=t.days,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Friday",n=t._i(s,i);a.checked?n<0&&(t.days=s.concat([i])):n>-1&&(t.days=s.slice(0,n).concat(s.slice(n+1)))}else t.days=r}}}),t._v("Fri")]),s("label",{staticClass:"checkbox-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.days,expression:"days"}],attrs:{type:"checkbox",name:"Saturday",value:"Saturday"},domProps:{checked:Array.isArray(t.days)?t._i(t.days,"Saturday")>-1:t.days},on:{change:function(e){var s=t.days,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Saturday",n=t._i(s,i);a.checked?n<0&&(t.days=s.concat([i])):n>-1&&(t.days=s.slice(0,n).concat(s.slice(n+1)))}else t.days=r}}}),t._v("Sat")])]),s("hr")])},K=[],Q={name:"TaskSelector",props:["taskData","reset"],data(){return{days:[],newUserTask:{userId:this.$store.state.user._id,taskId:this.taskData._id,instances:[]}}},watch:{days:function(t,e){"stop"!=this.days&&this.$store.dispatch("newUserTask",{id:this.taskData._id,days:t})},reset:function(){this.days[0]&&(this.days="stop")}},methods:{},components:{}},V=Q,X=(s("1549"),Object(c["a"])(V,z,K,!1,null,null,null)),Y=X.exports,Z={name:"",props:[],data(){return{tasksByTag:[],filter:"",reset:0}},watch:{filter:function(t){this.filterTasks(t)}},computed:{tasks(){return this.tasksByTag=this.$store.state.tasks,this.$store.state.tasks},tags(){return this.$store.state.tags}},methods:{filterTasks(t){console.log("filtering by",t),this.tasksByTag=this.tasks.filter(e=>e.tags.includes(t)),console.log(this.tasksByTag)},addUserTask(t){this.$store.dispatch("addUserTask",t)},saveUserTasks(){let t=this.$store.state.pendingUserTasks,e=this.$store.state.user._id;for(const s in t)if(t[s][0]){const a=t[s];let r={userId:e,taskId:s,instances:a};r.instances=r.instances.map(t=>{return{day:t}}),this.$store.dispatch("addUserTask",JSON.parse(JSON.stringify(r)))}this.reset++,$("#taskDetails").modal("hide"),$(".modal-backdrop").remove(),this.$store.commit("emptyPendingUserTasks")}},components:{TaskSelector:Y}},tt=Z,et=(s("17ea"),Object(c["a"])(tt,J,q,!1,null,null,null)),st=et.exports,at={name:"",mounted(){this.$store.dispatch("getAllTasks")},props:[],data(){return{}},computed:{tasks(){return this.$store.state.tasks}},methods:{},components:{Tasks:st}},rt=at,it=(s("8de0"),Object(c["a"])(rt,H,G,!1,null,null,null)),nt=it.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile"},[s("h2",{staticStyle:{color:"#346575","font-family":"'Rock Salt', cursive"}},[t._v("My Profile\n  ")]),s("UserInfo"),s("TaskCalendar")],1)},ct=[],lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userInfoBox"},[a("div",{staticClass:"row d-flex bg",staticStyle:{height:"auto"}},[a("div",{staticClass:"col-sm-12 col-md-8 d-flex align-items-center justify-content-center"},[a("img",{staticClass:"img",staticStyle:{height:"25vh"},attrs:{src:s("8ec2"),alt:"Harvey"}}),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h6",{staticClass:"card-title"},[a("b",[t._v(t._s(t.user.name))]),a("hr")]),a("span",{staticClass:"card-text"},[a("b",[t._v("Points: "+t._s(t.user.points)),a("br")])]),a("span",{staticClass:"card-text"},[a("b",[t._v("Summits: "+t._s(t.user.summits[0])+" "),a("br")])])])])]),a("div",{staticClass:"col-sm-4 col-md-4 d-flex align-items-center justify-content-center"},[a("div",{staticClass:"card",staticStyle:{width:"auto",height:"auto"}},[a("div",{staticClass:"card-body"},[t._m(0),a("hr"),t._l(t.tags,function(e){return a("span",{staticClass:"card-text",class:e},[a("b",[t._v(t._s(e)),a("br")])])})],2)])])])])},dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h6",{staticClass:"card-title"},[s("b",[t._v("Goals")])])}],ut={name:"",props:[],data(){return{}},computed:{user(){return this.$store.state.user},tags(){return this.$store.state.tags}},methods:{},components:{}},mt=ut,pt=(s("a203"),Object(c["a"])(mt,lt,dt,!1,null,null,null)),ht=pt.exports,yt={name:"Profile",props:[],data(){return{}},mounted(){this.$store.dispatch("getUserTasksByUserId",this.$store.state.user._id)},methods:{},components:{UserInfo:ht,TaskCalendar:U}},vt=yt,gt=Object(c["a"])(vt,ot,ct,!1,null,null,null),ft=gt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"team"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("Teams")],1),s("div",{staticClass:"col"},[s("CreateTeam")],1)])])},bt=[],_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"teams"},[s("div",{staticClass:"col"},t._l(t.teams,function(t){return s("teamCard",{attrs:{team:t}})}),1)])},Tt=[],wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"teamCard "},[s("div",{staticClass:"card team-card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(t.team.name)+" - "+t._s(1==t.team.active?"Active Team":"Inactive Team")+" ")]),s("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("Members:")]),t._l(t.team.users,function(e){return s("p",{staticClass:"card-text"},[t._v(t._s(e.name)+" - "+t._s(e.points))])}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"card-link",attrs:{type:"text",placeholder:"Member Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("button",{staticClass:"btn btn-info",on:{click:function(e){return t.addUser()}}},[t._v("Add Member")]),s("button",{staticClass:"btn btn-info",on:{click:function(e){return t.leaveTeam()}}},[t._v("Leave Team")]),s("button",{staticClass:"btn btn-info",on:{click:function(e){return t.changeActiveTeam()}}},[t._v("Make Active Team")])],2)])])},Ct=[],Ut={name:"teamCard",props:["team"],data(){return{email:""}},methods:{addUser(){this.team.users.push(this.email),this.email="",this.$store.dispatch("addTeamMember",this.team)},leaveTeam(){this.team.users=this.team.users.filter(t=>{this.$store.state.user._id}),this.team.users[0]?this.$store.dispatch("editTeam",this.team):this.$store.dispatch("deleteTeam",this.team)},changeActiveTeam(){this.setInactive(),this.team.active=!0,this.$store.dispatch("editTeam",this.team)},setInactive(){this.$store.state.teams.forEach(t=>{1==t.active&&(t.active=!1,this.$store.dispatch("editTeam",t))})}}},xt=Ut,$t=Object(c["a"])(xt,wt,Ct,!1,null,null,null),St=$t.exports,At={name:"teams",mounted(){this.$store.dispatch("getTeamsByUserId",this.$store.state.user._id)},computed:{teams(){return this.$store.state.teams}},components:{TeamCard:St}},Pt=At,It=Object(c["a"])(Pt,_t,Tt,!1,null,null,null),Et=It.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"}},[t._v("\n    Create a Team\n  ")]),s("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Team Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTeam.name,expression:"newTeam.name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Team Name"},domProps:{value:t.newTeam.name},on:{input:function(e){e.target.composing||t.$set(t.newTeam,"name",e.target.value)}}})])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.createTeam()}}},[t._v("Create Team")])])])])])])},jt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Create a Team")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Bt={name:"createTeam",props:[],data(){return{newTeam:{name:"",users:[]},email:""}},computed:{user(){return this.$store.state.user}},methods:{createTeam(){this.newTeam.users.push(this.user._id),this.$store.dispatch("createNewTeam",this.newTeam)}}},Ot=Bt,Dt=Object(c["a"])(Ot,Mt,jt,!1,null,null,null),Rt=Dt.exports,Nt={name:"Team",props:[],data(){return{}},computed:{},methods:{},components:{Teams:Et,CreateTeam:Rt}},Ft=Nt,Lt=Object(c["a"])(Ft,kt,bt,!1,null,null,null),Wt=Lt.exports;a["a"].use(u["a"]);var Ht=new u["a"]({routes:[{path:"/",name:"home",component:O},{path:"/login",name:"login",component:W},{path:"/task-manager",name:"task-manager",component:nt},{path:"/profile",name:"profile",component:ft},{path:"/team",name:"team",component:Wt}]}),Gt=s("2f62"),Jt=s("bc3a"),qt=s.n(Jt);a["a"].use(Gt["a"]);let zt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Kt=qt.a.create({baseURL:zt+"auth/",timeout:3e3,withCredentials:!0}),Qt=qt.a.create({baseURL:zt+"api/",timeout:3e3,withCredentials:!0});var Vt=new Gt["a"].Store({state:{user:{},mostRecentSunday:0,summitThreshold:2500,tasks:[],goals:[],userTasks:[],pendingUserTasks:{},tags:["Health","Organization","Hygiene","Finances"],teams:[]},mutations:{setUser(t,e){t.user=e},setMostRecentSunday(t,e){t.mostRecentSunday=e},setTasks(t,e){t.tasks=e},setGoals(t,e){t.goals=e},setUserTasks(t,e){t.userTasks=e},setPendingUserTask(t,e){a["a"].set(t.pendingUserTasks,e.id,e.days)},emptyPendingUserTasks(t){t.pendingUserTasks={}},setTeams(t,e){t.teams=e}},actions:{register({commit:t,dispatch:e},s){Kt.post("register",s).then(e=>{t("setUser",e.data),Ht.push({name:"home"})})},authenticate({commit:t,dispatch:e}){Kt.get("authenticate").then(s=>{t("setUser",s.data),e("getUserTasksByUserId",s.data._id),"login"==Ht.currentRoute.name&&Ht.push({name:"home"})}).catch(t=>{Ht.push({name:"login"})})},login({commit:t,dispatch:e},s){Kt.post("login",s).then(e=>{t("setUser",e.data),Ht.push({name:"home"})})},async logout({commit:t,dispatch:e}){await Kt.delete("logout"),t("setUser",{}),Ht.push({name:"login"})},async getUserIdByEmail({commit:t,dispatch:e},s){try{let t=await Kt.get(s.email);return t.data._id}catch(a){console.error(a)}},async editUser({commit:t,dispatch:e},s){try{let e=await Kt.put(s._id,s);t("setUser",e.data)}catch(a){console.error(a)}},async summitCheck(){try{let e=await Qt.get("/usertasks/users/"+this.state.user._id);this.commit("setUserTasks",e.data),this.dispatch("clearUser"),this.dispatch("accountAndClearUserTasks")}catch(t){console.error(t)}},accountAndClearUserTasks({commit:t,dispatch:e}){let s=this.state.userTasks;for(let a=0;a<s.length;a++){let t=s[a];t.accounted=!0,a<s.length-1?this.dispatch("clearUserTask",t):this.dispatch("editUserTaskById",t)}},clearUser({commit:t,dispatch:e}){this.state.user.points>=this.state.summitThreshold?(alert("Weekly Summit Achieved!"),this.state.user.summits[0]++):alert("Keep at it slugger. Tomorrow is a new day!"),this.state.user.summits[1]++,this.state.user.points=0,this.state.user.mostRecentSunday=this.state.mostRecentSunday,this.dispatch("editUser",this.state.user)},mostRecentSunday({commit:t,dispatch:e}){let s=156126966e4,a=s,r=Date.now(),i=6048e5;while(a+i<r)a+=i;t("setMostRecentSunday",a)},async getAllTasks({commit:t,dispatch:e}){let s=await Qt.get("tasks");console.log("Getting all tasks",s.data),t("setTasks",s.data)},newUserTask({commit:t,dispatch:e},s){t("setPendingUserTask",s)},async addUserTask({commit:t,dispatch:e},s){try{let t=await Qt.post("/usertasks",s);console.log("Posted User Task: ",t)}catch(a){console.error(a)}},async getUserTasksByUserId({commit:t,dispatch:e},s){try{let e=await Qt.get("/usertasks/users/"+s);t("setUserTasks",e.data)}catch(a){console.error(a)}},async getUserTasksAndUpdatePoints({commit:t,dispatch:e},s){try{let e=await Qt.get("/usertasks/users/"+s);t("setUserTasks",e.data),this.dispatch("calculateUserPoints")}catch(a){console.error(a)}},async calculateUserPoints({commit:t,dispatch:e}){try{let t=0;this.state.userTasks.forEach(e=>{let s=0;e.instances.forEach(t=>{t.completed&&s++}),t+=s*e.taskId.points}),this.state.user.points=t,this.dispatch("editUser",this.state.user)}catch(s){console.error(s)}},async editUserTaskById({commit:t,dispatch:e},s){try{let t=await Qt.put("/usertasks/"+s._id,s);console.log("edited Usertask",t.data),this.dispatch("getUserTasksByUserId",s.userId._id)}catch(a){console.error(a)}},async deleteUserTask({dispatch:t,commit:e},s){try{let t=await Qt.delete("/usertasks/"+s._id);console.log(t.data),this.dispatch("getUserTasksByUserId",s.userId._id)}catch(a){console.error(a)}},async toggleTaskStatus({commit:t,dispatch:e},s){try{await Qt.put("/usertasks/"+s._id,s);this.dispatch("getUserTasksAndUpdatePoints",s.userId._id)}catch(a){console.error(a)}},async clearUserTask({commit:t,dispatch:e},s){try{await Qt.put("/usertasks/"+s._id,s)}catch(a){console.error(a)}},async createNewTeam({commit:t,dispatch:e},s){try{console.log(s),await Qt.post("/teams",s),e("getTeamsByUserId",this.state.user._id)}catch(a){console.error(a)}},async getTeamsByUserId({commit:t,dispatch:e},s){try{let e=await Qt.get("/teams/user/"+s);console.log("getting teams",e.data),t("setTeams",e.data)}catch(a){console.error(a)}},async addTeamMember({commit:t,dispatch:e},s){try{let t=await e("getUserIdByEmail",{email:s.users[s.users.length-1]});s.users.pop(),s.users.push(t),e("editTeam",s)}catch(a){console.error(a)}},async editTeam({commit:t,dispatch:e},s){try{await Qt.put("/teams/"+s._id,s),e("getTeamsByUserId",this.state.user._id)}catch(a){console.error(a)}},async deleteTeam({commit:t,dispatch:e},s){try{await Qt.delete("/teams/"+s._id,s),e("getTeamsByUserId",this.state.user._id)}catch(a){console.error(a)}}}}),Xt=s("9483");Object(Xt["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});class Yt{async Authenticate(){let t=await ee.get("authenticate");return t.data}}async function Zt(){let t=new Yt;try{let s=await t.Authenticate();Vt.commit("setUser",s),Vt.dispatch("mostRecentSunday"),"login"==Ht.currentRoute.name&&Ht.push({name:"home"})}catch(e){console.error("error on main.js"),Ht.push({name:"login"})}new a["a"]({router:Ht,store:Vt,render:function(t){return t(d)}}).$mount("#app"),Vt.state.user.mostRecentSunday<Vt.state.mostRecentSunday&&(console.log("Time to make a new week again!"),Vt.dispatch("summitCheck")),Vt.state.user.mostRecentSunday==Vt.state.mostRecentSunday&&console.log("User up to date!")}let te=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",ee=qt.a.create({baseURL:te+"auth/",timeout:3e3,withCredentials:!0});Zt()},"8de0":function(t,e,s){"use strict";var a=s("b838"),r=s.n(a);r.a},"8ec2":function(t,e,s){t.exports=s.p+"img/harvey.c79380ef.png"},9524:function(t,e,s){"use strict";var a=s("a0f4"),r=s.n(a);r.a},a0f4:function(t,e,s){},a203:function(t,e,s){"use strict";var a=s("3473"),r=s.n(a);r.a},b82c:function(t,e,s){"use strict";var a=s("bf81"),r=s.n(a);r.a},b838:function(t,e,s){},bf81:function(t,e,s){},cccb:function(t,e,s){"use strict";var a=s("e55c"),r=s.n(a);r.a},e55c:function(t,e,s){},eb33:function(t,e,s){}});
//# sourceMappingURL=app.5f475831.js.map